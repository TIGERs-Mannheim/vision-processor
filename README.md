# Vision Processor
A replacement for the aging (ssl-vision)[https://github.com/RoboCup-SSL/ssl-vision].


## Compiling

    cmake .
    make

### Dependencies

    apt install libyaml-cpp-dev ocl-icd-opencl-dev libeigen3-dev libopencv-dev protobuf-compiler libprotobuf-dev

    apt install intel-opencl-icd intel-media-va-driver-non-free

    cmake
    pkgconfig
    protobuf
    opencl
    yaml-cpp
    eigen3
    opencv
    libav

### Python dependencies

`mpv` is only required for `python/cam_viewer.py`.

Arch based distributions: `python-protobuf python-yaml python-grpcio-tools mpv`

Debian/Ubuntu based distributions: `python3-protobuf python3-yaml python3-grpc-tools mpv`

PIP: `protobuf pyyaml grpcio-tools`


## Components

### vision_processor
The camera data processing program. One instance per camera.

### python/geom_publisher.py
Publishes the field geometry for all vision_processors, teams and the game controller.
Requires protobuf files generated by `make`.

### python/cam_viewer.py
Opens the `mpv` video player with the camera streams from the vision_processor instances.

### python/record_ground_truth.py
For debugging purposes. Saves current detection and geometry as .yml configuration file.
